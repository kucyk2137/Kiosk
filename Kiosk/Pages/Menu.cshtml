
@page
@using Kiosk.Models
@using Kiosk.Extensions
@using Microsoft.AspNetCore.Http

@model Kiosk.Pages.MenuModel
<link rel="stylesheet" href="~/css/site.css" />

<div class="menu-page">
    <div class="categories">
        <h3>Kategorie</h3>
        @foreach (var category in Model.Categories)
        {
            <form method="get" asp-page="/Categories/ByCategory">
                <input type="hidden" name="categoryId" value="@category.Id" />
                <button type="submit" class="category-btn">@category.Name</button>
            </form>
        }
        <form method="get" asp-page="/Cart">
            <button type="submit" class="cart-btn">
                Koszyk (@(HttpContext.Session.GetObjectFromJson<List<OrderItem>>("Cart")?.Count ?? 0))
            </button>
        </form>
    </div>

    <div class="products">
        
    </div>
</div>
